{"version":3,"sources":["interface/cmoutput.js","inserts/inserts.json","inserts/webtts.js","inserts/pingutils.js","inserts/mcp.js","inserts/triggers.js","inserts/programmerhelper.js","inserts/notifier.js","factories/insertfactory.js","appends/appends.json","factories/appendfactory.js","history/channelhistory.js","interface/channelinterface.js","sounds/sounds.json","sounds/soundops.js","sounds/soundplayer.js","interface/programmer.js","tts/mactts.js","tts/ariatts.js","factories/ttsfactory.js","ui/mudinput.js","settings.json","ui/resolvinglink.js","ui/outputitem.js","ui/mudoutput.js","ui/settingspanel.js","ui/onlinelist.js","ui/toolbar.js","ui/main.js","interface/interface.js","history/inputhistory.js","chatmud.js","connection/tls.js","connection/websockets.js","factories/networkfactory.js","main.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["EventEmitter","require","CMOutput","constructor","instance","maxLines","add","string","console","log","tts","speak","emit","history","addMessage","module","exports","WebTTS","interface","act","document","getElementById","value","PingUtils","token","time","start","performance","now","stop","MCP","key","name","pings","Array","toString","startsWith","slice","length","parsed","JSON","parse","executeMCP","command","authentication_key","error","output","s1","trim","indexOf","includes","s2","split","i","initMCP","connection","send","args","checkKey","info","handleChannelMessage","handleChannelSocial","handleSocial","handlePlayerConnect","handlePlayerReconnect","handlePlayerDisconnect","handlePlayerTeleportOut","handlePlayerTeleportIn","handleTell","handleEdit","handleNetLag","handlePlay","prefix","message","soundPlayer","playChannel","stringify","playSocial","social","gender","data","play","args2","programmer","setObject","setEnableHelper","newPing","push","myPing","findPingByToken","ping","Triggers","executeTriggers","matched","match","ProgrammerHelper","code","receiving","enabled","setCode","open","Notifier","Notification","requestPermission","then","result","body","inserts","webtts","mcp","triggers","programmerhelper","notifier","InsertFactory","getInsert","appends","AppendFactory","getInstance","ChannelHistory","channels","pChannel","channel","getChannelByName","Channel","getMessageForChannel","id","messages","unshift","ChannelInterface","currentChannel","currentMessage","nextChannel","speakImmediate","previousChannel","nextMessage","readMessage","previousMessage","sounds","findSoundsInFolder","path","directory","search","object","entry","children","findFilenames","array","returnObj","Howl","Howler","rng","soundops","Sounds","SoundPlayer","extension","file","folder","mFile","searchSounds","loadSound","sound","foundChannels","socials","foundSocials","filename","Sound","process","platform","basePath","join","__dirname","src","Programmer","window","lines","currentLine","boundMethod","setTimeout","postMessage","handleMessage","bind","addEventListener","sendCode","removeEventListener","line","obj","say","TTS","speaking","speakQueue","voice","rate","stopSpeech","replace","handleQueue","shift","err","item","innerHTML","node","createTextNode","appendChild","createElement","TTSFactory","MacTTS","AriaTTS","React","MudInput","Component","props","state","inputValue","handleChange","handleKey","inputRef","createRef","render","componentDidMount","current","focus","evt","inputHistory","getLastEntered","setState","target","urlToTitle","ResolvingLink","text","url","resolved","onClick","YouTube","default","OutputItem","re","itemize","map","index","test","parseLink","openLink","event","link","preventDefault","parseYoutubeLink","e","andPosition","substring","Settings","MudOutput","addLine","on","SettingsPanel","volume","speech","resolveLinks","embedYoutube","handleVolumeChange","handleSpeechStateChange","Boolean","targetVolume","checked","setSpeechEnabled","OnlineList","people","active","idlers","bots","createGroup","response","componentWillMount","getOnlineList","fetch","json","parseData","list","flags","person","title","ToolBar","isSettingsOpened","isOnlineListOpened","showSettings","hideSettings","showOnlineList","hideOnlineList","renderButtons","renderSettings","renderOnlineList","buttons","MainWindow","Combokeys","reactDom","MainUI","Interface","shortcuts","setupEvents","setupKeys","setupInterface","bindGlobal","historyInterface","InputHistory","strings","iterator","getAtIndex","getAtIterator","increaseIterator","decreaseIterator","Inserts","Appends","ChatMud","setupInserts","setupAppends","handleData","insertDef","insert","appendDef","append","sendInput","input","net","TLS","TCPConnection","address","port","client","Socket","tcp","connect","options","socket","endsWith","emitData","arr","write","IO","Websockets","io","NetworkFactory","game"],"mappings":"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CAAC,sBAAD,CAA3B;;AAEAO,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAEA,MAAM8C,UAAU,GAAG2R,cAAc,CAAC7N,WAAf,EAAnB;AAEA7G,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,MAAM0U,IAAI,GAAG,IAAI7B,OAAJ,CAAY,IAAI/P,UAAJ,EAAZ,CAAb;;AGVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\nconst EventEmitter = require('eventemitter3');\r\n\r\nclass CMOutput extends EventEmitter {\r\n\tconstructor(instance) {\r\n\t\tsuper();\r\n\t\tthis.instance = instance;\r\n\t\tthis.maxLines = 100;\r\n\t}\r\n\r\n\tadd(string) {\r\n\t\tconsole.log('Outputting ' + string);\r\n\t\tif (string != '') {\r\n\t\t\tthis.instance.tts.speak(string);\r\n\t\t\tthis.emit('MudOutput', string);\r\n\r\n\t\t\tthis.instance.history.addMessage('MudOutput', string);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = CMOutput;\r\n","module.exports = [\"mcp\",\"triggers\",\"programmerhelper\"];","'use strict';\r\n\r\nclass WebTTS {\r\n\tconstructor() {\r\n\t\tthis.interface = null;\r\n\t}\r\n\r\n\tact(string, instance) {\r\n\t\tthis.instance = instance;\r\n\t\tconsole.log(document.getElementById('speechToggle').value);\r\n\t\tthis.instance.tts.speak(string);\r\n\t\treturn string;\r\n\t}\r\n}\r\n\r\nmodule.exports = WebTTS;\r\n","'use strict';\r\nclass PingUtils {\r\n\tconstructor(token) {\r\n\t\tthis.token = token;\r\n\t\tthis.time = 0;\r\n\t}\r\n\r\n\tstart() {\r\n\t\tthis.time = performance.now();\r\n\t}\r\n\r\n\tstop() {\r\n\t\tthis.time = performance.now(); -this.time;\r\n\t}\r\n}\r\n\r\nmodule.exports = PingUtils;\r\n","'use strict';\r\nconst PingUtils = require('./pingutils');\r\n\r\n'use strict';\r\nclass MCP {\r\n\tconstructor() {\r\n\t\tthis.instance = null;\r\n\t\tthis.key = 0;\r\n\t\tthis.name = 0;\r\n\t\tthis.pings = new Array();\r\n\t}\r\n\r\n\tact(string, instance) {\r\n\t\tstring = string.toString();\r\n\t\tif (!string.startsWith('#$#')) {\r\n\t\t\treturn string;\r\n\t\t}\r\n\r\n\t\tthis.instance = instance;\r\n\t\tif (string.startsWith('#$#json')) {\r\n\t\t\ttry {\r\n\t\t\t\tstring = string.slice(8, string.length);\r\n\t\t\t\tconst parsed = JSON.parse(string);\r\n\t\t\t\tthis.executeMCP(parsed.command, parsed, parsed.authentication_key);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.instance.output.add('Error parsing MCP: ' + string);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.parse(string);\r\n\t\t}\r\n\r\n\t\treturn '';\r\n\t}\r\n\r\n\tparse(string) {\r\n\t\tconsole.log('Parsing ' + string);\r\n\t\tlet s1 = string.slice(3, string.length);\r\n\t\ts1 = s1.trim();\r\n\t\tlet command = s1.slice(0, s1.indexOf(' '));\r\n\r\n\t\tcommand = command.trim();\r\n\t\tconsole.log('Command: ' + command);\r\n\t\ts1 = s1.slice(command.length, s1.length);\r\n\t\tlet key = null;\r\n\t\tif (s1.includes('-|-')) {\r\n\t\t\tkey = s1.slice(s1.indexOf('-|-') + 4, s1.length);\r\n\t\t\tkey = key.trim();\r\n\t\t\ts1 = s1.slice(0, s1.indexOf('-|-'));\r\n\t\t}\r\n\r\n\t\tconst s2 = s1.split('|');\r\n\t\tfor (let i = 0; i < s2.length; i++) {\r\n\t\t\ts2[i] = s2[i].trim();\r\n\t\t}\r\n\r\n\t\tif (command == 'mcp') {\r\n\t\t\tthis.initMCP();\r\n\t\t}\r\n\r\n\t\tthis.executeMCP(command, s2, key);\r\n\t}\r\n\r\n\tinitMCP() {\r\n\t\tthis.instance.connection.send('#$#register_client Chatmud Official Client (Alpha)');\r\n\t\tthis.instance.connection.send('#$#client_supports authkeys');\r\n\t\tthis.instance.connection.send('#$#client_supports json');\r\n\t\tthis.instance.connection.send('#$#client_supports check_netlag');\r\n\t}\r\n\r\n\texecuteMCP(command, args, key) {\r\n\t\tif (key) {\r\n\t\t\tthis.checkKey(key);\r\n\t\t}\r\n\r\n\t\tswitch (command) {\r\n\t\t\tcase 'authentication_key':\r\n\t\t\t\tthis.key = args[0];\r\n\t\t\t\tthis.instance.info.key = args[0];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'my_name':\r\n\t\t\t\tthis.name = args[0];\r\n\t\t\t\tthis.instance.info.name = args[0];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'channel_message':\r\n\t\t\t\tthis.handleChannelMessage(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'channel_social':\r\n\t\t\t\tthis.handleChannelSocial(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'social':\r\n\t\t\t\tthis.handleSocial(args);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'watched_player_connect':\r\n\t\t\t\tthis.handlePlayerConnect(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'watched_player_reconnect':\r\n\t\t\t\tthis.handlePlayerReconnect(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'watched_player_disconnect':\r\n\t\t\t\tthis.handlePlayerDisconnect(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'teleport_out':\r\n\t\t\t\tthis.handlePlayerTeleportOut(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'teleport_in':\r\n\t\t\t\tthis.handlePlayerTeleportIn(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'tell_message':\r\n\t\t\t\tthis.handleTell(args);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'edit':\r\n\t\t\t\tthis.handleEdit(args);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'netlag':\r\n\t\t\t\tthis.handleNetLag(args);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.handlePlay(command, args);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\thandleChannelMessage(args) {\r\n\t\tthis.instance.history.addMessage(args.name, args.prefix + args.message);\r\n\t\tthis.instance.output.add(args.prefix + ' ' + args.message);\r\n\t\tthis.instance.soundPlayer.playChannel(args.name);\r\n\t}\r\n\r\n\thandleChannelSocial(args) {\r\n\t\tconsole.log(JSON.stringify(args));\r\n\t\tthis.instance.history.addMessage(args.name, args.name + ': ' + args.message);\r\n\t\tthis.instance.output.add(args.name + ': ' + args.message);\r\n\t\tthis.instance.soundPlayer.playSocial(args.social\t, args.gender);\r\n\t\tthis.instance.soundPlayer.playChannel(args.name);\r\n\t}\r\n\r\n\thandleSocial(args) {\r\n\t\tthis.instance.soundPlayer.playSocial(args.data[0], args.data[2]);\r\n\t}\r\n\r\n\thandlePlay(command, args) {\r\n\t\tif (args.data) {\r\n\t\t\tthis.instance.soundPlayer.play(args.data[0], command);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\thandlePlayerConnect(args) {\r\n\t\tthis.instance.soundPlayer.play('enter');\r\n\t\tthis.instance.output.add(args.data[0] + ' connected');\r\n\t}\r\n\r\n\thandlePlayerReconnect(args) {\r\n\t\tthis.instance.soundPlayer.play('reconnect');\r\n\t\tthis.instance.output.add(args[0] + ' reconnected');\r\n\t}\r\n\r\n\thandlePlayerDisconnect(args) {\r\n\t\tthis.instance.soundPlayer.play('leave');\r\n\t\tthis.instance.output.add(args.data[0] + ' disconnected');\r\n\t}\r\n\r\n\thandlePlayerTeleportOut(args) {\r\n\t\tthis.instance.soundPlayer.play('teleport%20out', 'misc');\r\n\t}\r\n\r\n\thandlePlayerTeleportIn(args) {\r\n\t\tthis.instance.soundPlayer.play('teleport%20in', 'misc');\r\n\t}\r\n\r\n\thandleTell(args) {\r\n\t\tconsole.log('Parsed tell: ' + args);\r\n\t\tthis.instance.soundPlayer.play('tell');\r\n\t\tthis.instance.output.add(args.data[0] + ' ' + args.data[1] + ' ' + args.data[2]);\r\n\t}\r\n\r\n\thandleEdit(args) {\r\nconsole.log(JSON.stringify(args));\r\n\t\tconst args2 = args[0].split(' ');\r\n\t\t// Console.log(\"Split args: \" + JSON.stringify(args2));\r\n\t\t// let verb = args2[1].split(\":\")[1];\r\n\t\t// let object = args2[4].split(\":\")[0];\r\n\t\tthis.instance.programmer.setObject(args2[args2.length - 1]);\r\n\t\tthis.instance.programmer.setEnableHelper(true);\r\n\t}\r\n\r\n\tcheckKey(key) {\r\n\t\tconsole.log('Checking ' + key + ' agains ' + this.key);\r\n\t\tif (key != this.key) {\r\n\t\t\tthis.instance.soundPlayer.play('spoofer', 'misc');\r\n\t\t\tthis.instance.output.add('Spoof attempt!');\r\n\t\t}\r\n\t}\r\n\r\n\thandleNetLag(args) {\r\n\t\tif (args.data[0] == 'ping') {\r\n\t\t\tconst newPing = new PingUtils(args.data[1]);\r\n\t\t\tthis.instance.connection.send('#$#netlag pong ' + args.data[1]);\r\n\t\t\tnewPing.start();\r\n\t\t\tthis.pings.push(newPing);\r\n\t\t}\r\n\r\n\t\tif (args.data[0] == 'pang') {\r\n\t\t\tconst myPing = this.findPingByToken(args.data[1]);\r\n\t\t\tmyPing.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tfindPingByToken(token) {\r\n\t\tfor (const ping of this.pings) {\r\n\t\t\tif (ping.token == token) {\r\n\t\t\t\treturn ping;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = MCP;\r\n","'use strict';\r\n\r\nclass Triggers {\r\n\tconstructor() {\r\n\t\tthis.instance = null;\r\n\t}\r\n\r\n\tact(string, instance) {\r\n\t\tthis.instance = instance;\r\n\t\tthis.executeTriggers(string);\r\n\t\treturn string;\r\n\t}\r\n\r\n\texecuteTriggers(string) {\r\n\t\tlet matched = string.match('^Turning (off|on) channel ([a-zA-Z0-9]*)?\\.');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play(matched[1]);\r\n\t\t}\r\n\r\n\t\tmatched = string.match('^I don\\'t understand that\\.$');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('huh', 'misc');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('^(\\>\\> Command Aborted \\<\\<|Invalid selection.)$');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('cancel');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('(\\\\[(Type a line of input or `@abort\\' to abort the command|Type lines of input; use `\\\\.\\' to end or `@abort\\' to abort the command)\\\\.\\\\]|\\\\[Enter `yes\\' or `no\\'\\\\])');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('prompt');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('You click your heels three times.');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('home', 'misc');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('[Connections] A new high player count has been reached! * players are connected.');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('high%connections', 'misc');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('[Creation] * has just connected for the first time! Please make them feel welcome.');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('creation');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('(.*) says,(.*)');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('say');\r\n\t\t}\r\n\r\n\t\tmatched = string.match('^You say,*?');\r\n\t\tif (matched) {\r\n\t\t\tthis.instance.soundPlayer.play('say');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = Triggers;\r\n","'use strict';\r\nclass ProgrammerHelper {\r\n\tconstructor() {\r\n\t\tthis.code = '';\r\n\t\tthis.receiving = false;\r\n\t\tthis.instance = null;\r\n\t}\r\n\r\n\tact(string, instance) {\r\n\t\tif (instance.programmer.enabled == true) {\r\n\t\t\tif (this.receiving == false) {\r\n\t\t\t\tthis.receiving = true;\r\n\t\t\t\tthis.code = '';\r\n\t\t\t}\r\n\r\n\t\t\tthis.instance = instance;\r\n\t\t\tconsole.log('Checking: ' + string);\r\n\t\t\tif (string == '.') {\r\n\t\t\t\tthis.instance.programmer.setCode(this.code);\r\n\t\t\t\tthis.instance.programmer.open();\r\n\t\t\t\tthis.instance.programmer.setEnableHelper(false);\r\n\t\t\t\tthis.receiving = false;\r\n\t\t\t}\r\n\t\t\tthis.code += string + '\\n';\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn string;\r\n\t}\r\n}\r\n\r\nmodule.exports = ProgrammerHelper;\r\n","'use strict';\r\n\r\nclass Notifier {\r\n\tconstructor() {\r\n\t\tthis.instance = null;\r\n\t\tNotification.requestPermission().then(result => console.log('Notification result: ' + result));\r\n\t}\r\n\r\n\tact(string, instance) {\r\n\t\tstring = string.toString();\r\n\t\tthis.instance = instance;\r\n\t\tif (this.instance.info.name != '') {\r\n\t\t\tif (string.includes(this.instance.info.name)) {\r\n\t\t\t\tconsole.log('Sending notification');\r\n\t\t\t\tnew Notification('ChatMud', {\r\n\t\t\t\t\tbody: 'You\\'ve been mentioned! ' + string});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn string;\r\n\t}\r\n}\r\n\r\nmodule.exports = Notifier;\r\n","'use strict';\r\n\r\nconst inserts = {\r\n\twebtts: require('../inserts/webtts'),\r\n\tmcp: require('../inserts/mcp'),\r\n\ttriggers: require('../inserts/triggers'),\r\n\tprogrammerhelper: require('../inserts/programmerhelper'),\r\n\tnotifier: require('../inserts/notifier')\r\n};\r\n\r\nclass InsertFactory {\r\n\tstatic getInsert(name) {\r\n\t\treturn inserts[name];\r\n\t}\r\n}\r\n\r\nmodule.exports = InsertFactory;\r\n","module.exports = [];","'use strict';\r\nconst appends = {\r\n};\r\nclass AppendFactory {\r\n\tstatic getInstance(instance) {\r\n\t\treturn appends[instance];\r\n\t}\r\n}\r\n\r\nmodule.exports = AppendFactory;\r\n","'use strict';\r\nclass ChannelHistory {\r\n\tconstructor() {\r\n\t\tthis.channels = new Array();\r\n\t}\r\n\r\n\taddMessage(pChannel, message) {\r\n\t\tconsole.log('Adding to ' + pChannel + ', ' + message);\r\n\t\tlet channel = this.getChannelByName(pChannel);\r\n\t\tif (channel == -1) {\r\n\t\t\tchannel = new Channel(pChannel);\r\n\t\t\tthis.channels.push(channel);\r\n\t\t\tconsole.log('Created new channel');\r\n\t\t}\r\n\t\tchannel.addMessage(message);\r\n\t}\r\n\r\n\tgetChannelByName(name) {\r\n\t\tconsole.log('Getting channel by name ' + name);\r\n\t\tfor (const channel of this.channels) {\r\n\t\t\tif (channel.name == name) {\r\n\t\t\t\treturn channel;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tgetMessageForChannel(name, id) {\r\n\t\tconsole.log('Getting message ' + id + ' for channel ' + name);\r\n\t\tconst channel = this.getChannelByName(name);\r\n\t\treturn channel.messages[id];\r\n\t}\r\n}\r\n\r\nclass Channel {\r\n\tconstructor(name) {\r\n\t\tthis.name = name;\r\n\t\tthis.messages = new Array();\r\n\t}\r\n\r\n\taddMessage(message) {\r\n\t\tconsole.log('In-channel message add: ' + message);\r\n\t\tthis.messages.unshift(message);\r\n\t}\r\n}\r\n\r\nmodule.exports = ChannelHistory;\r\n","'use strict';\r\nconst ChannelHistory = require('../history/channelhistory');\r\n\r\nclass ChannelInterface {\r\n\tconstructor(history, instance) {\r\n\t\tthis.instance = instance;\r\n\t\tthis.currentChannel = 0;\r\n\t\tthis.currentMessage = 0;\r\n\t\tthis.history = history;\r\n\t}\r\n\r\n\tnextChannel() {\r\n\t\tconsole.log('Next channel');\r\n\t\tif (this.currentChannel < this.history.channels.length - 1) {\r\n\t\t\tthis.currentChannel++;\r\n\t\t} else {\r\n\t\t\tthis.currentChannel = this.history.channels.length - 1;\r\n\t\t}\r\n\r\n\t\tthis.instance.tts.speakImmediate(this.history.channels[this.currentChannel].name);\r\n\t}\r\n\r\n\tpreviousChannel() {\r\n\t\tconsole.log('Previous channel');\r\n\t\tif (this.currentChannel > 0) {\r\n\t\t\tthis.currentChannel--;\r\n\t\t} else {\r\n\t\t\tthis.currentChannel = 0;\r\n\t\t}\r\n\r\n\t\tthis.instance.tts.speakImmediate(this.history.channels[this.currentChannel].name);\r\n\t}\r\n\r\n\tnextMessage() {\r\n\t\tconsole.log('Next message');\r\n\t\tif (this.currentMessage > 0) {\r\n\t\t\tthis.currentMessage--;\r\n\t\t} else {\r\n\t\t\tthis.currentMessage = 0;\r\n\t\t}\r\n\r\n\t\tthis.readMessage(this.currentMessage);\r\n\t}\r\n\r\n\tpreviousMessage() {\r\n\t\tconsole.log('Previous message');\r\n\t\tif (this.currentMessage < this.history.channels[this.currentChannel].messages.length - 1) {\r\n\t\t\tthis.currentMessage++;\r\n\t\t} else {\r\n\t\t\tthis.currentMessage = this.history.channels[this.currentChannel].messages.length - 1;\r\n\t\t}\r\n\r\n\t\tthis.readMessage(this.currentMessage);\r\n\t}\r\n\r\n\treadMessage(id) {\r\n\t\tconsole.log('Reading ' + this.history.channels[this.currentChannel].messages[id]);\r\n\t\tthis.instance.tts.speakImmediate(this.history.channels[this.currentChannel].messages[id]);\r\n\t}\r\n}\r\n\r\nmodule.exports = ChannelInterface;\r\n","module.exports = [{\"type\":\"file\",\"name\":\".DS_Store\"},{\"type\":\"file\",\"name\":\"cancel.ogg\"},{\"type\":\"file\",\"name\":\"dominion ship tell.ogg\"},{\"type\":\"file\",\"name\":\"enter.ogg\"},{\"type\":\"file\",\"name\":\"event.ogg\"},{\"type\":\"file\",\"name\":\"leave linkdead.ogg\"},{\"type\":\"file\",\"name\":\"leave.ogg\"},{\"type\":\"file\",\"name\":\"off.ogg\"},{\"type\":\"file\",\"name\":\"on.ogg\"},{\"type\":\"file\",\"name\":\"prompt.ogg\"},{\"type\":\"file\",\"name\":\"reconnected.ogg\"},{\"type\":\"file\",\"name\":\"reply.ogg\"},{\"type\":\"file\",\"name\":\"say.ogg\"},{\"type\":\"file\",\"name\":\"tell.ogg\"},{\"type\":\"file\",\"name\":\"whisper.ogg\"},{\"name\":\"admin\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"administrators.ogg\"},{\"type\":\"file\",\"name\":\"wizchange.ogg\"}]},{\"name\":\"casino\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"slot_bet.ogg\"},{\"type\":\"file\",\"name\":\"slot_lose.ogg\"},{\"type\":\"file\",\"name\":\"slot_win.ogg\"}]},{\"name\":\"channels\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"announce.ogg\"},{\"type\":\"file\",\"name\":\"botgames.ogg\"},{\"type\":\"file\",\"name\":\"chat.ogg\"},{\"type\":\"file\",\"name\":\"cp.ogg\"},{\"type\":\"file\",\"name\":\"crazyparty.ogg\"},{\"type\":\"file\",\"name\":\"creation.ogg\"},{\"type\":\"file\",\"name\":\"dev.ogg\"},{\"type\":\"file\",\"name\":\"devlog.ogg\"},{\"type\":\"file\",\"name\":\"games.ogg\"},{\"type\":\"file\",\"name\":\"global.ogg\"},{\"type\":\"file\",\"name\":\"haw.ogg\"},{\"type\":\"file\",\"name\":\"im.ogg\"},{\"type\":\"file\",\"name\":\"kittycat.ogg\"},{\"type\":\"file\",\"name\":\"moderators.ogg\"},{\"type\":\"file\",\"name\":\"music.ogg\"},{\"type\":\"file\",\"name\":\"newbie.ogg\"},{\"type\":\"file\",\"name\":\"news.ogg\"},{\"type\":\"file\",\"name\":\"notify.ogg\"},{\"type\":\"file\",\"name\":\"program.ogg\"},{\"type\":\"file\",\"name\":\"slej.ogg\"},{\"type\":\"file\",\"name\":\"shout.ogg\"},{\"type\":\"file\",\"name\":\"teamtalk.ogg\"},{\"type\":\"file\",\"name\":\"wily.ogg\"},{\"type\":\"file\",\"name\":\"wizards.ogg\"}]},{\"name\":\"dragon\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"eat.ogg\"},{\"type\":\"file\",\"name\":\"flame.ogg\"}]},{\"name\":\"games\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"anagrams_end.ogg\"},{\"type\":\"file\",\"name\":\"anagrams_invalid.ogg\"},{\"type\":\"file\",\"name\":\"anagrams_start.ogg\"},{\"type\":\"file\",\"name\":\"anagrams_valid.ogg\"}]},{\"name\":\"meow_button\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"meow.ogg\"},{\"type\":\"file\",\"name\":\"press.ogg\"},{\"type\":\"file\",\"name\":\"roll.ogg\"}]},{\"name\":\"guns\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"emptygun.ogg\"},{\"type\":\"file\",\"name\":\"gun_drop.ogg\"},{\"type\":\"file\",\"name\":\"gun_fired.ogg\"},{\"type\":\"file\",\"name\":\"gun_load.ogg\"},{\"type\":\"file\",\"name\":\"gun_silenced_fired.ogg\"},{\"type\":\"file\",\"name\":\"gun_unload.ogg\"},{\"type\":\"file\",\"name\":\"target_hit.ogg\"},{\"type\":\"file\",\"name\":\"target_miss.ogg\"},{\"type\":\"file\",\"name\":\"target_miss2.ogg\"},{\"type\":\"file\",\"name\":\"target_miss3.ogg\"},{\"type\":\"file\",\"name\":\"unwield_gun.ogg\"},{\"type\":\"file\",\"name\":\"wield_gun.ogg\"}]},{\"name\":\"misc\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"change.ogg\"},{\"type\":\"file\",\"name\":\"high connections.ogg\"},{\"type\":\"file\",\"name\":\"huh.ogg\"},{\"type\":\"file\",\"name\":\"home.ogg\"},{\"type\":\"file\",\"name\":\"spoofer.ogg\"},{\"type\":\"file\",\"name\":\"teleport in.ogg\"},{\"type\":\"file\",\"name\":\"teleport out.ogg\"}]},{\"name\":\"pocketbubble\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"bounce.ogg\"},{\"type\":\"file\",\"name\":\"create.ogg\"},{\"type\":\"file\",\"name\":\"pop.ogg\"}]},{\"name\":\"tv\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"insult_off.ogg\"},{\"type\":\"file\",\"name\":\"shot_off.ogg\"},{\"type\":\"file\",\"name\":\"violent_social_off.ogg\"}]},{\"name\":\"socials\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"Kiss.ogg\"},{\"type\":\"file\",\"name\":\"Poke.ogg\"},{\"type\":\"file\",\"name\":\"agree_female_101.ogg\"},{\"type\":\"file\",\"name\":\"agree_male_101.ogg\"},{\"type\":\"file\",\"name\":\"apologize_female_101.ogg\"},{\"type\":\"file\",\"name\":\"bark.ogg\"},{\"type\":\"file\",\"name\":\"bored_female_101.ogg\"},{\"type\":\"file\",\"name\":\"bored_male_101.ogg\"},{\"type\":\"file\",\"name\":\"brb_101.ogg\"},{\"type\":\"file\",\"name\":\"burp.ogg\"},{\"type\":\"file\",\"name\":\"burp2.ogg\"},{\"type\":\"file\",\"name\":\"cackle_female.ogg\"},{\"type\":\"file\",\"name\":\"cackle_male.ogg\"},{\"type\":\"file\",\"name\":\"cheer_female_101.ogg\"},{\"type\":\"file\",\"name\":\"chuckle female101.ogg\"},{\"type\":\"file\",\"name\":\"chuckle female102.ogg\"},{\"type\":\"file\",\"name\":\"chuckle_female.ogg\"},{\"type\":\"file\",\"name\":\"chuckle_male_1.ogg\"},{\"type\":\"file\",\"name\":\"chuckle_male_2.ogg\"},{\"type\":\"file\",\"name\":\"clap.ogg\"},{\"type\":\"file\",\"name\":\"coffee.ogg\"},{\"type\":\"file\",\"name\":\"coke.ogg\"},{\"type\":\"file\",\"name\":\"comfort_female_101.ogg\"},{\"type\":\"file\",\"name\":\"comfort_male_101.ogg\"},{\"type\":\"file\",\"name\":\"confused_female_101.ogg\"},{\"type\":\"file\",\"name\":\"cough male.ogg\"},{\"type\":\"file\",\"name\":\"cough_female.ogg\"},{\"type\":\"file\",\"name\":\"cry_female.ogg\"},{\"type\":\"file\",\"name\":\"cry_male.ogg\"},{\"type\":\"file\",\"name\":\"fart_female.ogg\"},{\"type\":\"file\",\"name\":\"fart_male.ogg\"},{\"type\":\"file\",\"name\":\"flirt_female_101.ogg\"},{\"type\":\"file\",\"name\":\"gasp_female.ogg\"},{\"type\":\"file\",\"name\":\"gasp_male.ogg\"},{\"type\":\"file\",\"name\":\"giggle_female.ogg\"},{\"type\":\"file\",\"name\":\"giggle_male.ogg\"},{\"type\":\"file\",\"name\":\"growl female101.ogg\"},{\"type\":\"file\",\"name\":\"growl female102.ogg\"},{\"type\":\"file\",\"name\":\"growl_female.ogg\"},{\"type\":\"file\",\"name\":\"growl_male.ogg\"},{\"type\":\"file\",\"name\":\"hiss.ogg\"},{\"type\":\"file\",\"name\":\"hmm female102.ogg\"},{\"type\":\"file\",\"name\":\"hmm female103.ogg\"},{\"type\":\"file\",\"name\":\"hmm_female_101.ogg\"},{\"type\":\"file\",\"name\":\"hmm_male.ogg\"},{\"type\":\"file\",\"name\":\"kick room.ogg\"},{\"type\":\"file\",\"name\":\"kick.ogg\"},{\"type\":\"file\",\"name\":\"kick10.ogg\"},{\"type\":\"file\",\"name\":\"kick11.ogg\"},{\"type\":\"file\",\"name\":\"kick12.ogg\"},{\"type\":\"file\",\"name\":\"kick13.ogg\"},{\"type\":\"file\",\"name\":\"kick14.ogg\"},{\"type\":\"file\",\"name\":\"kick15.ogg\"},{\"type\":\"file\",\"name\":\"kick16.ogg\"},{\"type\":\"file\",\"name\":\"kick17.ogg\"},{\"type\":\"file\",\"name\":\"kick18.ogg\"},{\"type\":\"file\",\"name\":\"kick19.ogg\"},{\"type\":\"file\",\"name\":\"kick2.ogg\"},{\"type\":\"file\",\"name\":\"kick20.ogg\"},{\"type\":\"file\",\"name\":\"kick3.ogg\"},{\"type\":\"file\",\"name\":\"kick4.ogg\"},{\"type\":\"file\",\"name\":\"kick5.ogg\"},{\"type\":\"file\",\"name\":\"kick6.ogg\"},{\"type\":\"file\",\"name\":\"kick7.ogg\"},{\"type\":\"file\",\"name\":\"kick8.ogg\"},{\"type\":\"file\",\"name\":\"kick9.ogg\"},{\"type\":\"file\",\"name\":\"laugh_female.ogg\"},{\"type\":\"file\",\"name\":\"lol_female_101.ogg\"},{\"type\":\"file\",\"name\":\"lol_male.ogg\"},{\"type\":\"file\",\"name\":\"meow.ogg\"},{\"type\":\"file\",\"name\":\"meow2.ogg\"},{\"type\":\"file\",\"name\":\"meow3.ogg\"},{\"type\":\"file\",\"name\":\"nudge.ogg\"},{\"type\":\"file\",\"name\":\"oic female102.ogg\"},{\"type\":\"file\",\"name\":\"oic female103.ogg\"},{\"type\":\"file\",\"name\":\"oic_female_101.ogg\"},{\"type\":\"file\",\"name\":\"oic_male_101.ogg\"},{\"type\":\"file\",\"name\":\"okshut_101.ogg\"},{\"type\":\"file\",\"name\":\"okshut_102.ogg\"},{\"type\":\"file\",\"name\":\"paddle.ogg\"},{\"type\":\"file\",\"name\":\"punch room.ogg\"},{\"type\":\"file\",\"name\":\"punch.ogg\"},{\"type\":\"file\",\"name\":\"punch10.ogg\"},{\"type\":\"file\",\"name\":\"punch11.ogg\"},{\"type\":\"file\",\"name\":\"punch12.ogg\"},{\"type\":\"file\",\"name\":\"punch13.ogg\"},{\"type\":\"file\",\"name\":\"punch14.ogg\"},{\"type\":\"file\",\"name\":\"punch15.ogg\"},{\"type\":\"file\",\"name\":\"punch16.ogg\"},{\"type\":\"file\",\"name\":\"punch17.ogg\"},{\"type\":\"file\",\"name\":\"punch18.ogg\"},{\"type\":\"file\",\"name\":\"punch19.ogg\"},{\"type\":\"file\",\"name\":\"punch2.ogg\"},{\"type\":\"file\",\"name\":\"punch20.ogg\"},{\"type\":\"file\",\"name\":\"punch3.ogg\"},{\"type\":\"file\",\"name\":\"punch4.ogg\"},{\"type\":\"file\",\"name\":\"punch5.ogg\"},{\"type\":\"file\",\"name\":\"punch6.ogg\"},{\"type\":\"file\",\"name\":\"punch7.ogg\"},{\"type\":\"file\",\"name\":\"punch8.ogg\"},{\"type\":\"file\",\"name\":\"punch9.ogg\"},{\"type\":\"file\",\"name\":\"purr.ogg\"},{\"type\":\"file\",\"name\":\"rofl_female.ogg\"},{\"type\":\"file\",\"name\":\"rofl_male.ogg\"},{\"type\":\"file\",\"name\":\"scream_female.ogg\"},{\"type\":\"file\",\"name\":\"scream_male.ogg\"},{\"type\":\"file\",\"name\":\"shove.ogg\"},{\"type\":\"file\",\"name\":\"shut_101.ogg\"},{\"type\":\"file\",\"name\":\"shutbuddy_101.ogg\"},{\"type\":\"file\",\"name\":\"sigh_female.ogg\"},{\"type\":\"file\",\"name\":\"sigh_male.ogg\"},{\"type\":\"file\",\"name\":\"sit.ogg\"},{\"type\":\"file\",\"name\":\"slap room.ogg\"},{\"type\":\"file\",\"name\":\"slap.ogg\"},{\"type\":\"file\",\"name\":\"slap2.ogg\"},{\"type\":\"file\",\"name\":\"slap3.ogg\"},{\"type\":\"file\",\"name\":\"slap4.ogg\"},{\"type\":\"file\",\"name\":\"slap5.ogg\"},{\"type\":\"file\",\"name\":\"snarl_101.ogg\"},{\"type\":\"file\",\"name\":\"snicker_female_101.ogg\"},{\"type\":\"file\",\"name\":\"snicker_male.ogg\"},{\"type\":\"file\",\"name\":\"sniff_female.ogg\"},{\"type\":\"file\",\"name\":\"sniff_male.ogg\"},{\"type\":\"file\",\"name\":\"snore.ogg\"},{\"type\":\"file\",\"name\":\"snort.ogg\"},{\"type\":\"file\",\"name\":\"squeak.ogg\"},{\"type\":\"file\",\"name\":\"stand.ogg\"},{\"type\":\"file\",\"name\":\"tackle.ogg\"},{\"type\":\"file\",\"name\":\"thank_female_101.ogg\"},{\"type\":\"file\",\"name\":\"vomit.ogg\"},{\"type\":\"file\",\"name\":\"yawn_female_101.ogg\"},{\"type\":\"file\",\"name\":\"yawn_female.ogg\"},{\"type\":\"file\",\"name\":\"yawn_male.ogg\"}]},{\"name\":\"clocks\",\"type\":\"folder\",\"children\":[{\"name\":\"bigben\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"00.ogg\"},{\"type\":\"file\",\"name\":\"15.ogg\"},{\"type\":\"file\",\"name\":\"30.ogg\"},{\"type\":\"file\",\"name\":\"45.ogg\"},{\"type\":\"file\",\"name\":\"chime.ogg\"}]},{\"name\":\"grandfather\",\"type\":\"folder\",\"children\":[{\"type\":\"file\",\"name\":\"chime.ogg\"}]}]}]\r\n;","const sounds = require('./sounds');\r\n\r\nfunction findSoundsInFolder(path) {\r\n\tconst split = path.split('/');\r\n\tlet directory = sounds;\r\n\tfor (const string of split) {\r\n\t\tdirectory = search(string, directory);\r\n\t}\r\n\treturn directory;\r\n}\r\n\r\nfunction search(string, object) {\r\n\tfor (const entry of object) {\r\n\t\tif (entry.name == string) {\r\n\t\t\treturn entry.children;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction findFilenames(string, array) {\r\n\tconst returnObj = [];\r\n\tfor (const entry of array) {\r\n\t\tif (entry.name.includes(string)) {\r\n\t\t\treturnObj.push(entry.name);\r\n\t\t}\r\n\t}\r\n\treturn returnObj;\r\n}\r\n\r\nmodule.exports.findSoundsInFolder = findSoundsInFolder;\r\nmodule.exports.findFilenames = findFilenames;\r\n","const {Howl, Howler} = require('howler');\r\nconst rng = require('random-int');\r\nconst soundops = require('./soundops');\r\nconst Sounds = require('./sounds');\r\nconst path = require('path');\r\n\r\nclass SoundPlayer {\r\n\tconstructor(extension = '.m4a') {\r\n\t\tthis.sounds = new Array();\r\n\t\tthis.extension = extension;\r\n\t}\r\n\r\n\tplay(file, folder = '') {\r\n\t\tlet mFile = this.searchSounds(file, folder);\r\n\t\tif (mFile == -1) {\r\n\t\t\tmFile = this.loadSound(file, folder);\r\n\t\t}\r\n\t\tmFile.sound.play();\r\n\t}\r\n\r\n\tplayChannel(name) {\r\n\t\tconst channels = soundops.findSoundsInFolder('channels');\r\n\t\tconst foundChannels = soundops.findFilenames(name, channels);\r\n\t\tname = (foundChannels.length == 0 ? 'global' : name);\r\n\t\tthis.play(name, 'channels');\r\n\t}\r\n\r\n\tplaySocial(name, gender) {\r\n\t\tconst socials = soundops.findSoundsInFolder('socials');\r\n\t\tlet foundSocials = soundops.findFilenames(name + '_' + gender, socials);\r\n\t\tif (foundSocials.length == 0) {\r\n\t\t\tfoundSocials = soundops.findFilenames(name, socials);\r\n\t\t}\r\n\t\tlet filename = null;\r\n\t\tif (foundSocials.length > 0) {\r\n\t\t\tfilename = foundSocials[rng(0, foundSocials.length - 1)].toString();\r\n\t\t\tfilename = filename.slice(0, filename.length - 4);\r\n\t\t}\r\n\r\n\t\tif (!filename) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.play(filename, 'socials');\r\n\t}\r\n\r\n\tsearchSounds(file, folder) {\r\n\t\tfor (const sound of this.sounds) {\r\n\t\t\tif (sound.file == file && sound.folder == folder) {\r\n\t\t\t\treturn sound;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tloadSound(file, folder) {\r\n\t\tconst sound = new Sound(folder, file);\r\n\t\tthis.sounds.push(sound);\r\n\t\treturn sound;\r\n\t}\r\n}\r\n\r\nclass Sound {\r\n\tconstructor(folder, file, extension = '.m4a') {\r\n\t\tif (process.platform) {\r\n\t\t\tthis.basePath = path.join(__dirname, 'sounds/');\r\n\t\t} else {\r\n\t\t\tthis.basePath = './sounds/';\r\n\t\t}\r\n\t\tthis.file = file;\r\n\t\tthis.folder = folder;\r\n\t\tthis.extension = extension;\r\n\t\tthis.path = this.basePath + (this.folder ? this.folder + '/' : '') + this.file + this.extension;\r\n\r\n\t\tconsole.log('Loading ' + this.path);\r\n\t\tthis.sound = new Howl({src: this.path});\r\n\t}\r\n}\r\n\r\nmodule.exports = SoundPlayer;\r\n","'use strict';\r\n\r\nclass Programmer {\r\n\tconstructor(instance) {\r\n\t\tthis.instance = instance;\r\n\t\tthis.code = '';\r\n\t\tthis.object = '';\r\n\t\tthis.enabled = false;\r\n\t\tthis.window = null;\r\n\t\tthis.lines = new Array();\r\n\t\tthis.currentLine = 0;\r\n\t\tthis.boundMethod = null;\r\n\t}\r\n\r\n\tsetEnableHelper(value) {\r\n\t\tthis.enabled = value;\r\n\t}\r\n\r\n\tsetCode(code) {\r\n\t\tthis.code = code;\r\n\t\tconsole.log('Code: ' + this.code);\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.window = window.open('editor.html');\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.window.postMessage(this.code);\r\n\t\t}, 1000);\r\n\t\tthis.boundMethod = this.handleMessage.bind(this);\r\n\t\twindow.addEventListener('message', this.boundMethod);\r\n\t}\r\n\r\n\thandleMessage(data) {\r\n\t\tconst code = data.data;\r\n\t\tthis.sendCode(code);\r\n\t\twindow.removeEventListener('message', this.boundMethod);\r\n\t}\r\n\r\n\tsendCode(data) {\r\n\t\tconst lines = data.split('\\n');\r\n\t\tthis.lines = lines;\r\n\t\tthis.instance.connection.send('@program ' + this.object);\r\n\t\tfor (const line of lines) {\r\n\t\t\tthis.instance.connection.send(line);\r\n\t\t}\r\n\t\tthis.instance.connection.send('.');\r\n\t\tthis.code = '';\r\n\t\tthis.enabled = false;\r\n\t}\r\n\r\n\tsetObject(obj) {\r\n\t\tconsole.log('Object set to ' + this.object);\r\n\t\tthis.object = obj;\r\n\t}\r\n}\r\n\r\nmodule.exports = Programmer;\r\n","'use strict';\r\nconst say = require('say');\r\n\r\nclass TTS {\r\n\tconstructor() {\r\n\t\tthis.enabled = true;\r\n\t\tthis.speaking = false;\r\n\t\tthis.speakQueue = new Array();\r\n\t\tthis.voice = 'alex';\r\n\t\tthis.rate = 3.0;\r\n\t}\r\n\r\n\tstopSpeech() {\r\n\t\tif (this.speaking == true) {\r\n\t\t\tthis.speaking = false;\r\n\t\t\tthis.speakQueue = [];\r\n\t\t\tsay.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tspeakImmediate(string) {\r\n\t\tif (this.speaking == true) {\r\n\t\t\tthis.stopSpeech();\r\n\t\t}\r\n\t\tthis.speak(string);\r\n\t}\r\n\r\n\tspeak(string) {\r\n\t\tif (!this.enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstring = string.replace('[', ' ');\r\n\t\tstring = string.replace(']', ' ');\r\n\t\tconsole.log('saying ' + string);\r\n\t\tthis.speakQueue.push(string);\r\n\t\tif (this.speaking == false) {\r\n\t\t\tthis.handleQueue();\r\n\t\t\tthis.speaking = true;\r\n\t\t}\r\n\t}\r\n\r\n\thandleQueue() {\r\n\t\tif (this.speakQueue.length > 0) {\r\n\t\t\tconst string = this.speakQueue.shift();\r\n\t\t\tsay.speak(string, this.voice, this.rate, err => this.handleQueue());\r\n\t\t} else {\r\n\t\t\tthis.speaking = false;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = TTS;\r\n","'use strict';\r\n\r\nclass TTS {\r\n\tconstructor() {\r\n\t\tthis.enabled = true;\r\n\t\tthis.speaking = false;\r\n\t\tthis.speakQueue = new Array();\r\n\t\tthis.voice = 'alex';\r\n\t\tthis.rate = 3.0;\r\n\t}\r\n\r\n\tstopSpeech() {\r\n\t\tlet item = document.getElementById(\"tts\");\r\n        item.innerHTML = \"\";\r\n\t}\r\n\r\n\tspeakImmediate(string) {\r\n\t\tlet item = document.getElementById(\"tts\");\r\n\t\titem.innerHTML = \"\";\r\n\t\tthis.speak(string);\r\n\t}\r\n\r\n\tspeak(string) {\r\n\t\tif (!this.enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstring = string.replace('[', ' ');\r\n\t\tstring = string.replace(']', ' ');\r\n\t\tconsole.log('saying ' + string);\r\n        \r\n\t\tlet item = document.getElementById(\"tts\");\r\n        let node = document.createTextNode(string+\"\\n\");\r\n\t\titem.appendChild(document.createElement('br'));\r\n        item.appendChild(node);\r\n\t}\r\n\r\n\t\r\n}\r\n\r\nmodule.exports = TTS;\r\n","'use strict';\r\n\r\nclass TTSFactory {\r\n    static getInstance() {\r\n        switch(process.platform) {\r\n            case 'darwin':\r\n                const MacTTS = require('../tts/mactts');\r\n                return new MacTTS();\r\n                break;\r\n            default:\r\n                const AriaTTS = require('../tts/ariatts');\r\n                return new AriaTTS();\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = TTSFactory;","import './ui.css';\r\n\r\nconst React = require('react');\r\n\r\nclass MudInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputValue: ''\r\n\t\t};\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleKey = this.handleKey.bind(this);\r\n\t\tthis.inputRef = React.createRef();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"input\">\r\n\t\t\t\t<h2>Input</h2>\r\n\t\t\t\t<input ref={this.inputRef} type=\"text\" aria-label=\"Mud Input\" value={this.state.inputValue} onChange={this.handleChange} onKeyPress={this.handleKey}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.inputRef.current.focus();\r\n\t}\r\n\r\n\thandleKey(evt) {\r\n\t\tif (evt.key == 'Enter') {\r\n\t\t\tlet value = this.state.inputValue;\r\n\t\t\tif (value == '') {\r\n\t\t\t\tvalue = this.props.instance.inputHistory.getLastEntered();\r\n\t\t\t} else if (value != this.props.instance.inputHistory.getLastEntered()) {\r\n\t\t\t\tthis.props.instance.inputHistory.add(value);\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.instance.connection.send(value);\r\n\t\t\tthis.props.instance.tts.stopSpeech();\r\n\t\t\tthis.setState({\r\n\t\t\t\tinputValue: ''\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange(evt) {\r\n\t\tthis.setState({\r\n\t\t\tinputValue: evt.target.value\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = MudInput;\r\n","module.exports = {\r\n\tmaxLines:500\r\n};","const React = require('react');\r\nconst urlToTitle = require('url-to-title');\r\n\r\nclass ResolvingLink extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\ttext: this.props.url\r\n\t\t};\r\n\t\turlToTitle(this.props.url, (err, resolved) => {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.setState({text: resolved});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <a href={this.props.url} onClick={this.props.onClick}>{this.state.text}</a>;\r\n\t}\r\n}\r\n\r\nmodule.exports = ResolvingLink;\r\n","const React = require('react');\r\nconst open = require('opn');\r\nconst YouTube = require('react-youtube-player').default;\r\nconst ResolvingLink = require('./resolvinglink');\r\n\r\nclass OutputItem extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// This.re=/(http|ftp|https):\\/\\/([\\w_-]+(?:(?:\\.[\\w_-]+)+))([\\w.,@?\\^=%:\\/~+#-]*[\\w@?\\^=%\\/~+#-])?/gi;\r\n\t\tthis.re = /((?:http|ftp|https):\\/\\/(?:[\\w_-]+(?:(?:\\.[\\w_-]+)+))(?:[\\w.,@?\\^=%:\\/~+#-]*[\\w@?\\^=%\\/~+#-])?)/gi;\r\n\t}\r\n\r\n\titemize(text) {\r\n\t\tconst split = text.split(this.re);\r\n\t\tif (split.length == 1) {\r\n\t\t\treturn <div>{split[0]}</div>;\r\n\t\t}\r\n\t\treturn split.map((item, index) => {\r\n\t\t\tconst re = this.re; // Parcel doesn't let me use this.re directly for some odd reason\r\n\t\t\treturn (\r\n\t\t\t\tre.test(item) ? this.parseLink(item) : item\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\topenLink(event, link) {\r\n\t\tevent.preventDefault();\r\n\t\topen(link);\r\n\t}\r\n\r\n\tparseLink(item) {\r\n\t\tif (item.indexOf('youtube.com/watch') != -1) {\r\n\t\t\treturn this.parseYoutubeLink(item);\r\n\t\t}\r\n\t\treturn (<ResolvingLink url={item} onClick={e => this.openLink(e, item)}/>);\r\n\t}\r\n\r\n\tparseYoutubeLink(item) {\r\n\t\tlet id = item.split('v=')[1];\r\n\t\tconst andPosition = id.indexOf('&');\r\n\t\tif (andPosition != -1) {\r\n\t\t  id = id.substring(0, andPosition);\r\n\t\t}\r\n\t\treturn <YouTube videoId={id} />;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div>{this.itemize(this.props.text)}</div>;\r\n\t}\r\n}\r\n\r\nmodule.exports = OutputItem;\r\n","const React = require('react');\r\nconst Settings = require('../settings.json');\r\nconst OutputItem = require('./outputitem');\r\n\r\nclass MudOutput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlines: []\r\n\t\t};\r\n\t\tthis.addLine = this.addLine.bind(this);\r\n\t\tthis.props.instance.output.on('MudOutput', data => this.addLine(data));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"output\">\r\n\r\n\t\t\t\t{this.state.lines.map((line, index) => {\r\n\t\t\t\t\treturn <OutputItem text={line} />;\r\n\t\t\t\t})}\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\taddLine(line) {\r\n\t\tconsole.log('Adding line: ' + line);\r\n\t\tif (line) {\r\n\t\t\tconst lines = this.state.lines;\r\n\t\t\tlines.push(line);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlines\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = MudOutput;\r\n","import {\r\n\tAccordion,\r\n\tAccordionItem,\r\n\tAccordionItemTitle,\r\n\tAccordionItemBody\r\n} from 'react-accessible-accordion';\r\n\r\nconst {Howler} = require('howler');\r\nconst React = require('react');\r\n\r\nclass SettingsPanel extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvolume: Howler.volume() * 100,\r\n\t\t\tspeech: this.props.instance.tts.enabled,\r\n\t\t\tresolveLinks: true,\r\n\t\t\tembedYoutube: true,\r\n\t\t\tsounds: true\r\n\t\t};\r\n\r\n\t\tthis.handleVolumeChange = this.handleVolumeChange.bind(this);\r\n\t\tthis.handleSpeechStateChange = this.handleSpeechStateChange.bind(this);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Accordion>\r\n\t\t\t\t<AccordionItem>\r\n\t\t\t\t\t<AccordionItemTitle><h2>Audio</h2></AccordionItemTitle>\r\n\t\t\t\t\t<AccordionItemBody>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label htmlFor=\"volume-slider\">Sound volume</label>\r\n\t\t\t\t\t\t\t<input type=\"range\" id=\"volume-slider\" value={this.state.volume} onChange={this.handleVolumeChange} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</AccordionItemBody>\r\n\t\t\t\t</AccordionItem>\r\n\r\n\t\t\t\t<AccordionItem>\r\n\t\t\t\t\t<AccordionItemTitle><h2>Speech</h2></AccordionItemTitle>\r\n\t\t\t\t\t<AccordionItemBody>\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"speech-checkbox\">Speech enabled</label>\r\n\t\t\t\t\t\t<input type=\"checkbox\" id=\"speech-checkbox\" onChange={this.handleSpeechStateChange} checked={Boolean(this.state.speech)} />\r\n\r\n\t\t\t\t\t</AccordionItemBody>\r\n\t\t\t\t</AccordionItem>\r\n\t\t\t</Accordion>\r\n\t\t);\r\n\t}\r\n\r\n\thandleVolumeChange(event) {\r\n\t\tconst targetVolume = event.target.value;\r\n\t\tconsole.log('Target volume at ' + targetVolume / 100);\r\n\t\tHowler.volume(targetVolume / 100);\r\n\t\tthis.setState({\r\n\t\t\tvolume: targetVolume\r\n\t\t});\r\n\t}\r\n\r\n\thandleSpeechStateChange(event) {\r\n\t\tconsole.log('Target value is at ' + event.target.checked);\r\n\t\tthis.props.instance.interface.setSpeechEnabled(event.target.checked);\r\n\r\n\t\tthis.setState({\r\n\t\t\tspeech: event.target.checked\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = SettingsPanel;\r\n","'use strict';\r\nimport './ui.css';\r\n\r\nimport {\r\n\tAccordion,\r\n\tAccordionItem,\r\n\tAccordionItemTitle,\r\n\tAccordionItemBody\r\n} from 'react-accessible-accordion';\r\n\r\nconst React = require('react');\r\n\r\nclass OnlineList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpeople: {\r\n\t\t\t\tactive: [],\r\n\t\t\t\tidlers: [],\r\n\t\t\t\tbots: []\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\tthis.people = {\r\n\t\t\tactive: [],\r\n\t\t\tbots: [],\r\n\t\t\tidlers: []\r\n\t\t};\r\n\r\n\t\tthis.createGroup = this.createGroup.bind(this);\r\n\r\n\t\tthis.response = null;\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.getOnlineList();\r\n\t}\r\n\r\n\tgetOnlineList() {\r\n\t\tfetch('http://chatmud.com/api/who')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.parseData(data));\r\n\t}\r\n\r\n\tparseData(data) {\r\n\t\tfor (const item in data.list) {\r\n\t\t\tconsole.log('Parsing item: ' + JSON.stringify(data.list[item]));\r\n\r\n\t\t\tif (data.list[item].flags && data.list[item].flags.includes('bot')) {\r\n\t\t\t\tconst person = {\r\n\t\t\t\t\tname: item,\r\n\t\t\t\t\ttitle: data.list[item].title\r\n\t\t\t\t};\r\n\t\t\t\tthis.people.bots.push(person);\r\n\t\t\t} else if (data.list[item].flags.includes('idle')) {\r\n\t\t\t\tconst person = {\r\n\t\t\t\t\tname: item,\r\n\t\t\t\t\ttitle: data.list[item].title\r\n\t\t\t\t};\r\n\t\t\t\tthis.people.idlers.push(person);\r\n\t\t\t} else {\r\n\t\t\t\tconst person = {\r\n\t\t\t\t\tname: item,\r\n\t\t\t\t\ttitle: data.list[item].title\r\n\t\t\t\t};\r\n\t\t\t\tthis.people.active.push(person);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tpeople: this.people\r\n\t\t});\r\n\t}\r\n\r\n\tcreateGroup(title, people) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<AccordionItem>\r\n\r\n\t\t\t\t\t<AccordionItemTitle>{title}</AccordionItemTitle>\r\n\t\t\t\t\t<AccordionItemBody>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{people.map((item, index) => {\r\n\t\t\t\t\t\t\t\tconsole.log('Mapping ' + item.name);\r\n\t\t\t\t\t\t\t\treturn <li>{item.name} - {item.title}</li>;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</AccordionItemBody>\r\n\t\t\t\t</AccordionItem>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div class=\"settings-panel\">\r\n\t\t\t\t<h1>Who's online</h1>\r\n\t\t\t\t<Accordion>\r\n\t\t\t\t\t{this.createGroup('Active', this.state.people.active)}\r\n\t\t\t\t\t{this.createGroup('Bots', this.state.people.bots)}\r\n\t\t\t\t\t{this.createGroup('Idlers', this.state.people.idlers)}\r\n\t\t\t\t</Accordion>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nmodule.exports = OnlineList;\r\n","import './ui.css';\r\n\r\nconst React = require('react');\r\nconst SettingsPanel = require('./settingspanel');\r\nconst OnlineList = require('./onlinelist');\r\n\r\nclass ToolBar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisSettingsOpened: false,\r\n\t\t\tisOnlineListOpened: false\r\n\t\t};\r\n\t\tthis.showSettings = this.showSettings.bind(this);\r\n\t\tthis.hideSettings = this.hideSettings.bind(this);\r\n\t\tthis.showOnlineList = this.showOnlineList.bind(this);\r\n\t\tthis.hideOnlineList = this.hideOnlineList.bind(this);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.renderButtons()}\r\n\t\t\t\t{this.renderSettings()}\r\n\t\t\t\t{this.renderOnlineList()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tshowSettings() {\r\n\t\tthis.setState({\r\n\t\t\tisSettingsOpened: true,\r\n\t\t\tisOnlineListOpened: false\r\n\t\t});\r\n\t}\r\n\r\n\thideSettings() {\r\n\t\tthis.setState({\r\n\t\t\tisSettingsOpened: false,\r\n\t\t\tisOnlineListOpened: false\r\n\t\t});\r\n\t}\r\n\r\n\trenderButtons() {\r\n\t\tconst buttons = [];\r\n\r\n\t\tif (this.state.isSettingsOpened == true) {\r\n\t\t\tbuttons.push(<button key=\"1\" onClick={this.hideSettings} aria-expanded=\"true\">Settings</button>);\r\n\t\t} else {\r\n\t\t\tbuttons.push(<button key=\"2\" onClick={this.showSettings} aria-expanded=\"false\">Settings</button>);\r\n\t\t}\r\n\r\n\t\tif (this.state.isOnlineListOpened) {\r\n\t\t\tbuttons.push(<button key=\"3\" onClick={this.hideOnlineList} aria-expanded=\"true\">Online List</button>);\r\n\t\t} else {\r\n\t\t\tbuttons.push(<button key=\"5\" onClick={this.showOnlineList} aria-expanded=\"false\">Online List</button>);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"toolbar\">\r\n\t\t\t\t{buttons}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tshowOnlineList() {\r\n\t\tthis.setState({\r\n\t\t\tisOnlineListOpened: true,\r\n\t\t\tisSettingsOpened: false\r\n\t\t});\r\n\t}\r\n\r\n\thideOnlineList() {\r\n\t\tthis.setState({\r\n\t\t\tisOnlineListOpened: false,\r\n\t\t\tisSettingsOpened: false\r\n\t\t});\r\n\t}\r\n\r\n\trenderSettings() {\r\n\t\tif (this.state.isSettingsOpened) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div className=\"settings-panel\">\r\n\t\t\t\t\t\t<SettingsPanel instance={this.props.instance}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trenderOnlineList() {\r\n\t\tif (this.state.isOnlineListOpened) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<OnlineList />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = ToolBar;\r\n","import './ui.css';\r\n\r\nconst React = require('react');\r\nconst MudInput = require('./mudinput');\r\nconst MudOutput = require('./mudoutput');\r\nconst ToolBar = require('./toolbar');\r\n\r\nclass MainWindow extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"toolbar\">\r\n\t\t\t\t\t<ToolBar instance={this.props.instance}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"output\">\r\n\t\t\t\t\t<MudOutput instance={this.props.instance}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"input\">\r\n\t\t\t\t\t<MudInput\r\n\r\n\t\t\t\t\t\tinstance={this.props.instance}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nmodule.exports = MainWindow;\r\n","'use strict';\r\nconst Combokeys = require('combokeys');\r\nconst React = require('react');\r\nconst reactDom = require('react-dom');\r\nconst MainUI = require('../ui/main');\r\n\r\nclass Interface {\r\n\tconstructor(instance) {\r\n\t\tthis.instance = instance;\r\n\t\tthis.shortcuts = new Combokeys(window);\r\n\t\trequire('combokeys/plugins/global-bind')(this.shortcuts);\r\n\t\tthis.setupEvents();\r\n\t\tthis.setupKeys();\r\n\t\tthis.setupInterface();\r\n\t}\r\n\r\n\tsetupInterface() {\r\n\t\treactDom.render(<MainUI instance={this.instance}/>, document.getElementById('app'));\r\n\t}\r\n\r\n\tsetupKeys() {\r\n\t\tif (process.platform === 'win32') {\r\n\t\t\tthis.shortcuts.bindGlobal('alt+left', () => this.instance.historyInterface.previousChannel());\r\n\t\t\tthis.shortcuts.bindGlobal('alt+right', () => this.instance.historyInterface.nextChannel());\r\n\t\t\tthis.shortcuts.bindGlobal('alt+up', () => this.instance.historyInterface.previousMessage());\r\n\t\t\tthis.shortcuts.bindGlobal('alt+down', () => this.instance.historyInterface.nextMessage());\r\n\t\t} else {\r\n\t\t\tthis.shortcuts.bindGlobal('alt+meta+left', () => this.instance.historyInterface.previousChannel());\r\n\t\t\tthis.shortcuts.bindGlobal('alt+meta+right', () => this.instance.historyInterface.nextChannel());\r\n\t\t\tthis.shortcuts.bindGlobal('alt+meta+up', () => this.instance.historyInterface.previousMessage());\r\n\t\t\tthis.shortcuts.bindGlobal('alt+meta+down', () => this.instance.historyInterface.nextMessage());\r\n\t\t}\r\n\t\tthis.shortcuts.bindGlobal('ctrl', () => this.instance.tts.stopSpeech());\r\n\t\tthis.shortcuts.bindGlobal('f12', () => this.setSpeechEnabled(!this.instance.tts.enabled));\r\n\t}\r\n\r\n\tsetupEvents() {\r\n\r\n\t}\r\n\r\n\tsetSpeechEnabled(state) {\r\n\t\tthis.instance.tts.enabled = state;\r\n\t\tthis.instance.output.add('Speech ' + (state ? 'enabled' : 'disabled'));\r\n\t}\r\n}\r\n\r\nmodule.exports = Interface;\r\n","'use strict';\r\n\r\nclass InputHistory {\r\n\tconstructor() {\r\n\t\tthis.strings = [];\r\n\t\tthis.iterator = 0;\r\n\t}\r\n\r\n\tadd(string) {\r\n\t\tthis.strings.unshift(string);\r\n\t}\r\n\r\n\tgetLastEntered() {\r\n\t\treturn this.strings[0];\r\n\t}\r\n\r\n\tgetAtIndex(index) {\r\n\t\treturn this.strings[index];\r\n\t}\r\n\r\n\tgetAtIterator() {\r\n\t\treturn this.strings[iterator];\r\n\t}\r\n\r\n\tincreaseIterator() {\r\n\t\tthis.iterator++;\r\n\t\tif (this.iterator > this.strings.length) {\r\n\t\t\tthis.iterator = this.strings.length;\r\n\t\t}\r\n\t\treturn this.iterator;\r\n\t}\r\n\r\n\tdecreaseIterator() {\r\n\t\tthis.iterator--;\r\n\t\tif (this.iterator < 0) {\r\n\t\t\tthis.iterator = 0;\r\n\t\t}\r\n\t\treturn this.iterator;\r\n\t}\r\n}\r\n\r\nmodule.exports = InputHistory;\r\n","'use strict';\r\nconst CMOutput = require('./interface/cmoutput');\r\nconst Inserts = require('./inserts/inserts.json');\r\nconst InsertFactory = require('./factories/insertfactory');\r\nconst Appends = require('./appends/appends.json');\r\nconst AppendFactory = require('./factories/appendfactory');\r\nconst ChannelHistory = require('./history/channelhistory');\r\nconst ChannelInterface = require('./interface/channelinterface');\r\nconst SoundPlayer = require('./sounds/soundplayer');\r\nconst Programmer = require('./interface/programmer');\r\nconst TTSFactory = require('./factories/ttsfactory');\r\nconst Interface = require('./interface/interface');\r\nconst InputHistory = require('./history/inputhistory');\r\n\r\nclass ChatMud {\r\n\tconstructor(connection) {\r\n\t\tconsole.log('Constructing handler');\r\n\t\tthis.output = new CMOutput(this);\r\n\t\tthis.connection = connection;\r\n\t\tthis.inserts = new Array();\r\n\t\tthis.appends = new Array();\r\n\t\tthis.history = new ChannelHistory();\r\n\t\tthis.historyInterface = new ChannelInterface(this.history, this);\r\n\t\tthis.inputHistory = new InputHistory();\r\n\t\tthis.soundPlayer = new SoundPlayer();\r\n\t\tthis.tts = TTSFactory.getInstance();\r\n\r\n\t\t\r\n\t\tthis.interface = new Interface(this);\r\n\t\tthis.programmer = new Programmer(this);\r\n\t\tthis.info = {\r\n\t\t\tname: '',\r\n\t\t\tkey: ''\r\n\t\t};\r\n\r\n\t\tthis.setupEvents();\r\n\t\tthis.setupInserts();\r\n\t\tthis.setupAppends();\r\n\t}\r\n\r\n\tsetupEvents() {\r\n\t\tconsole.log('Setting events');\r\n\t\tthis.connection.on('data', data => this.handleData(data));\r\n\t}\r\n\r\n\tsetupInserts() {\r\n\t\tfor (const insertDef of Inserts) {\r\n\t\t\tconst insert = InsertFactory.getInsert(insertDef);\r\n\t\t\tconst instance = new insert();\r\n\t\t\tthis.inserts.push(instance);\r\n\t\t}\r\n\t}\r\n\r\n\tsetupAppends() {\r\n\t\tfor (const appendDef of Appends) {\r\n\t\t\tconst append = AppendFactory.getInstance(appendDef);\r\n\t\t\tconst instance = new append();\r\n\t\t\tthis.appends.push(instance);\r\n\t\t}\r\n\t}\r\n\r\n\thandleData(data) {\r\n\t\tconsole.log('Received data: ' + data);\r\n\t\tfor (const insert of this.inserts) {\r\n\t\t\tdata = insert.act(data, this);\r\n\t\t}\r\n\r\n\t\tthis.output.add(data);\r\n\r\n\t\tfor (const append of this.appends) {\r\n\t\t\tconsole.log('Appending');\r\n\t\t\tappend.act(data, this);\r\n\t\t}\r\n\t}\r\n\r\n\tsendInput() {\r\n\t\tconsole.log('Handle enter key');\r\n\r\n\t\tlet string = this.input.value;\r\n\t\tif (string == 'my_name') {\r\n\t\t\tthis.output.add('Your name is set to ' + this.info.name);\r\n\t\t}\r\n\t\tthis.output.add('Input history: ' + JSON.stringify(this.inputHistory.strings));\r\n\t\tif (string == '') {\r\n\t\t\tstring = this.inputHistory.getLastEntered();\r\n\t\t} else if (string != this.inputHistory.getLastEntered()) {\r\n\t\t\tthis.inputHistory.add(string);\r\n\t\t}\r\n\r\n\t\tthis.connection.send(string);\r\n\r\n\t\tthis.input.value = '';\r\n\t}\r\n}\r\n\r\nmodule.exports = ChatMud;\r\n","'use strict';\r\nconst net = require('net');\r\nconst EventEmitter = require('eventemitter3');\r\nconst TLS = require(\"tls\");\r\n\r\nclass TCPConnection extends EventEmitter {\r\n\tconstructor(address = 'chatmud.com', port = 7443) {\r\n\t\tconsole.log('Connecting to ' + address + ' on port ' + port);\r\n\t\tsuper();\r\n\t\tthis.address = address;\r\n\t\tthis.port = port;\r\n\t\tthis.client = new net.Socket();\r\n\t\tthis.tcp = this.client.connect(this.port, this.address);\r\n\t\tthis.options ={\r\n\t\tsocket: this.tcp,\r\n\t\t\r\n\t\t};\r\n\r\n\t\tthis.connection = TLS.connect(this.options, () => this.setupEvents());\r\n\t\tthis.data = null;\r\n\t}\r\n\r\n\tsetupEvents() {\r\n\t\tconsole.log('Setting up tcp events');\r\n\t\tthis.connection.on('data', data => this.handleData(data));\r\n\t}\r\n\r\n\thandleData(data) {\r\n\t\tconsole.log('TCP stream: ' + data);\r\n\r\n\t\tconst string = data.toString();\r\n\t\tthis.data += string;\r\n\t\tif (this.data.endsWith('\\n')) {\r\n\t\t\tthis.emitData(this.data);\r\n\t\t\tthis.data = '';\r\n\t\t}\r\n\t}\r\n\r\n\temitData(data) {\r\n\t\tconst arr = data.split('\\r\\n');\r\n\t\tfor (const i of arr) {\r\n\t\t\tthis.emit('data', i);\r\n\t\t}\r\n\t}\r\n\r\n\tsend(string) {\r\n\t\tconsole.log('Sending ' + string);\r\n\t\tthis.connection.write(string + '\\n');\r\n\t}\r\n}\r\n\r\nmodule.exports = TCPConnection;\r\n","'use strict';\r\nconst IO = require(\"socket.io-client\");\r\nconst EventEmitter = require(\"eventemitter3\");\r\n\r\nclass Websockets extends EventEmitter {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tconsole.log('constructing websockets');\r\n\t\tthis.io = new IO();\r\n\t\tthis.setupEvents();\r\n\t}\r\n\t\r\n\tsetupEvents() {\r\n\t\tthis.io.on(\"data\", data => this.handleData(data));\r\n\t}\r\n\t\r\n\thandleData(data) {\r\n\t\tthis.emit(\"data\", data);\r\n\t}\r\n\t\r\n\tsend(string) {\r\n\t\tthis.io.emit(\"data\", string + \"\\n\");\r\n\t}\r\n\t\r\n}\r\n\r\nmodule.exports = Websockets;","'use strict';\r\n\r\nclass NetworkFactory {\r\n    static getInstance() {\r\n        if (process.platform) {\r\n            const TLS = require('../connection/tls');\r\n            return TLS;\r\n        } else {\r\n            const Websockets = require('../connection/websockets');\r\n            return Websockets;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = NetworkFactory;","'use strict';\r\nconst ChatMud = require('./chatmud');\r\nconst NetworkFactory = require('./factories/networkfactory');\r\nconst SoundPlayer = require('./sounds/soundplayer');\r\n\r\nconsole.log('Starting connection...');\r\n\r\nconst connection = NetworkFactory.getInstance();\r\n\r\nconsole.log('Creating handler...');\r\nconst game = new ChatMud(new connection());","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}