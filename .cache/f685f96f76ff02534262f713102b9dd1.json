{"dependencies":[{"name":"/Users/ghorthalon/code/chatmud-client/.babelrc","includedInParent":true,"mtime":1523479521529},{"name":"/Users/ghorthalon/code/chatmud-client/package.json","includedInParent":true,"mtime":1530618055630}],"generated":{"js":"\"use strict\";const t=require(\"net\"),e=require(\"eventemitter3\");class s extends e{constructor(e=\"chatmud.com\",s=3e3){console.log(\"Connecting to \"+e+\" on port \"+s),super(),this.address=e,this.port=s,this.client=new t.Socket,this.connection=this.client.connect(this.port,this.address,()=>this.setupEvents()),this.data=null}setupEvents(){console.log(\"Setting up tcp events\"),this.client.on(\"data\",t=>this.handleData(t))}handleData(t){console.log(\"TCP stream: \"+t);const e=t.toString();this.data+=e,this.data.endsWith(\"\\n\")&&(this.emitData(this.data),this.data=\"\")}emitData(t){const e=t.split(\"\\r\\n\");for(const t of e)this.emit(\"data\",t)}send(t){console.log(\"Sending \"+t),this.client.write(t+\"\\n\")}}module.exports=s;","map":{"mappings":[{"generated":{"line":1,"column":0},"source":"tcp.js","original":{"line":1,"column":0}},{"generated":{"line":3,"column":0},"source":"tcp.js","original":{"line":2,"column":0}},{"name":"net","generated":{"line":3,"column":6},"source":"tcp.js","original":{"line":2,"column":6}},{"name":"require","generated":{"line":3,"column":12},"source":"tcp.js","original":{"line":2,"column":12}},{"generated":{"line":3,"column":20},"source":"tcp.js","original":{"line":2,"column":20}},{"generated":{"line":3,"column":25},"source":"tcp.js","original":{"line":2,"column":12}},{"generated":{"line":3,"column":26},"source":"tcp.js","original":{"line":2,"column":0}},{"generated":{"line":4,"column":0},"source":"tcp.js","original":{"line":3,"column":0}},{"name":"EventEmitter","generated":{"line":4,"column":6},"source":"tcp.js","original":{"line":3,"column":6}},{"name":"require","generated":{"line":4,"column":21},"source":"tcp.js","original":{"line":3,"column":21}},{"generated":{"line":4,"column":29},"source":"tcp.js","original":{"line":3,"column":29}},{"generated":{"line":4,"column":44},"source":"tcp.js","original":{"line":3,"column":21}},{"generated":{"line":4,"column":45},"source":"tcp.js","original":{"line":3,"column":0}},{"generated":{"line":6,"column":0},"source":"tcp.js","original":{"line":5,"column":0}},{"name":"TCPConnection","generated":{"line":6,"column":6},"source":"tcp.js","original":{"line":5,"column":6}},{"generated":{"line":6,"column":19},"source":"tcp.js","original":{"line":5,"column":0}},{"name":"EventEmitter","generated":{"line":6,"column":28},"source":"tcp.js","original":{"line":5,"column":28}},{"generated":{"line":6,"column":40},"source":"tcp.js","original":{"line":5,"column":0}},{"generated":{"line":6,"column":41},"source":"tcp.js","original":{"line":5,"column":41}},{"name":"constructor","generated":{"line":7,"column":0},"source":"tcp.js","original":{"line":6,"column":1}},{"name":"address","generated":{"line":7,"column":13},"source":"tcp.js","original":{"line":6,"column":13}},{"generated":{"line":7,"column":23},"source":"tcp.js","original":{"line":6,"column":23}},{"generated":{"line":7,"column":36},"source":"tcp.js","original":{"line":6,"column":1}},{"name":"port","generated":{"line":7,"column":38},"source":"tcp.js","original":{"line":6,"column":38}},{"generated":{"line":7,"column":45},"source":"tcp.js","original":{"line":6,"column":45}},{"generated":{"line":7,"column":49},"source":"tcp.js","original":{"line":6,"column":1}},{"generated":{"line":7,"column":51},"source":"tcp.js","original":{"line":6,"column":51}},{"name":"console","generated":{"line":8,"column":0},"source":"tcp.js","original":{"line":7,"column":2}},{"name":"log","generated":{"line":8,"column":10},"source":"tcp.js","original":{"line":7,"column":10}},{"generated":{"line":8,"column":13},"source":"tcp.js","original":{"line":7,"column":2}},{"generated":{"line":8,"column":14},"source":"tcp.js","original":{"line":7,"column":14}},{"name":"address","generated":{"line":8,"column":33},"source":"tcp.js","original":{"line":7,"column":33}},{"generated":{"line":8,"column":40},"source":"tcp.js","original":{"line":7,"column":14}},{"generated":{"line":8,"column":43},"source":"tcp.js","original":{"line":7,"column":43}},{"generated":{"line":8,"column":54},"source":"tcp.js","original":{"line":7,"column":14}},{"name":"port","generated":{"line":8,"column":57},"source":"tcp.js","original":{"line":7,"column":57}},{"generated":{"line":8,"column":61},"source":"tcp.js","original":{"line":7,"column":2}},{"generated":{"line":9,"column":0},"source":"tcp.js","original":{"line":8,"column":2}},{"generated":{"line":10,"column":0},"source":"tcp.js","original":{"line":9,"column":2}},{"name":"address","generated":{"line":10,"column":7},"source":"tcp.js","original":{"line":9,"column":7}},{"generated":{"line":10,"column":14},"source":"tcp.js","original":{"line":9,"column":2}},{"name":"address","generated":{"line":10,"column":17},"source":"tcp.js","original":{"line":9,"column":17}},{"generated":{"line":10,"column":24},"source":"tcp.js","original":{"line":9,"column":2}},{"generated":{"line":11,"column":0},"source":"tcp.js","original":{"line":10,"column":2}},{"name":"port","generated":{"line":11,"column":7},"source":"tcp.js","original":{"line":10,"column":7}},{"generated":{"line":11,"column":11},"source":"tcp.js","original":{"line":10,"column":2}},{"name":"port","generated":{"line":11,"column":14},"source":"tcp.js","original":{"line":10,"column":14}},{"generated":{"line":11,"column":18},"source":"tcp.js","original":{"line":10,"column":2}},{"generated":{"line":12,"column":0},"source":"tcp.js","original":{"line":11,"column":2}},{"name":"client","generated":{"line":12,"column":7},"source":"tcp.js","original":{"line":11,"column":7}},{"generated":{"line":12,"column":13},"source":"tcp.js","original":{"line":11,"column":2}},{"generated":{"line":12,"column":16},"source":"tcp.js","original":{"line":11,"column":16}},{"name":"net","generated":{"line":12,"column":20},"source":"tcp.js","original":{"line":11,"column":20}},{"name":"Socket","generated":{"line":12,"column":24},"source":"tcp.js","original":{"line":11,"column":24}},{"generated":{"line":12,"column":30},"source":"tcp.js","original":{"line":11,"column":16}},{"generated":{"line":12,"column":32},"source":"tcp.js","original":{"line":11,"column":2}},{"generated":{"line":13,"column":0},"source":"tcp.js","original":{"line":12,"column":2}},{"name":"connection","generated":{"line":13,"column":7},"source":"tcp.js","original":{"line":12,"column":7}},{"generated":{"line":13,"column":17},"source":"tcp.js","original":{"line":12,"column":2}},{"generated":{"line":13,"column":20},"source":"tcp.js","original":{"line":12,"column":20}},{"name":"client","generated":{"line":13,"column":25},"source":"tcp.js","original":{"line":12,"column":25}},{"generated":{"line":13,"column":31},"source":"tcp.js","original":{"line":12,"column":20}},{"name":"connect","generated":{"line":13,"column":32},"source":"tcp.js","original":{"line":12,"column":32}},{"generated":{"line":13,"column":39},"source":"tcp.js","original":{"line":12,"column":20}},{"generated":{"line":13,"column":40},"source":"tcp.js","original":{"line":12,"column":40}},{"name":"port","generated":{"line":13,"column":45},"source":"tcp.js","original":{"line":12,"column":45}},{"generated":{"line":13,"column":49},"source":"tcp.js","original":{"line":12,"column":20}},{"generated":{"line":13,"column":51},"source":"tcp.js","original":{"line":12,"column":51}},{"name":"address","generated":{"line":13,"column":56},"source":"tcp.js","original":{"line":12,"column":56}},{"generated":{"line":13,"column":63},"source":"tcp.js","original":{"line":12,"column":20}},{"generated":{"line":13,"column":65},"source":"tcp.js","original":{"line":12,"column":65}},{"generated":{"line":13,"column":71},"source":"tcp.js","original":{"line":12,"column":71}},{"name":"setupEvents","generated":{"line":13,"column":76},"source":"tcp.js","original":{"line":12,"column":76}},{"generated":{"line":13,"column":87},"source":"tcp.js","original":{"line":12,"column":71}},{"generated":{"line":13,"column":89},"source":"tcp.js","original":{"line":12,"column":20}},{"generated":{"line":13,"column":90},"source":"tcp.js","original":{"line":12,"column":2}},{"generated":{"line":14,"column":0},"source":"tcp.js","original":{"line":13,"column":2}},{"name":"data","generated":{"line":14,"column":7},"source":"tcp.js","original":{"line":13,"column":7}},{"generated":{"line":14,"column":11},"source":"tcp.js","original":{"line":13,"column":2}},{"generated":{"line":14,"column":14},"source":"tcp.js","original":{"line":13,"column":14}},{"generated":{"line":14,"column":18},"source":"tcp.js","original":{"line":13,"column":2}},{"generated":{"line":15,"column":0},"source":"tcp.js","original":{"line":14,"column":2}},{"name":"setupEvents","generated":{"line":17,"column":0},"source":"tcp.js","original":{"line":16,"column":1}},{"generated":{"line":17,"column":15},"source":"tcp.js","original":{"line":16,"column":15}},{"name":"console","generated":{"line":18,"column":0},"source":"tcp.js","original":{"line":17,"column":2}},{"name":"log","generated":{"line":18,"column":10},"source":"tcp.js","original":{"line":17,"column":10}},{"generated":{"line":18,"column":13},"source":"tcp.js","original":{"line":17,"column":2}},{"generated":{"line":18,"column":14},"source":"tcp.js","original":{"line":17,"column":14}},{"generated":{"line":18,"column":37},"source":"tcp.js","original":{"line":17,"column":2}},{"generated":{"line":19,"column":0},"source":"tcp.js","original":{"line":18,"column":2}},{"name":"client","generated":{"line":19,"column":7},"source":"tcp.js","original":{"line":18,"column":7}},{"generated":{"line":19,"column":13},"source":"tcp.js","original":{"line":18,"column":2}},{"name":"on","generated":{"line":19,"column":14},"source":"tcp.js","original":{"line":18,"column":14}},{"generated":{"line":19,"column":16},"source":"tcp.js","original":{"line":18,"column":2}},{"generated":{"line":19,"column":17},"source":"tcp.js","original":{"line":18,"column":17}},{"generated":{"line":19,"column":23},"source":"tcp.js","original":{"line":18,"column":2}},{"name":"data","generated":{"line":19,"column":25},"source":"tcp.js","original":{"line":18,"column":25}},{"generated":{"line":19,"column":33},"source":"tcp.js","original":{"line":18,"column":33}},{"name":"handleData","generated":{"line":19,"column":38},"source":"tcp.js","original":{"line":18,"column":38}},{"generated":{"line":19,"column":48},"source":"tcp.js","original":{"line":18,"column":33}},{"name":"data","generated":{"line":19,"column":49},"source":"tcp.js","original":{"line":18,"column":49}},{"generated":{"line":19,"column":53},"source":"tcp.js","original":{"line":18,"column":33}},{"generated":{"line":19,"column":54},"source":"tcp.js","original":{"line":18,"column":2}},{"generated":{"line":20,"column":0},"source":"tcp.js","original":{"line":19,"column":2}},{"name":"handleData","generated":{"line":22,"column":0},"source":"tcp.js","original":{"line":21,"column":1}},{"name":"data","generated":{"line":22,"column":12},"source":"tcp.js","original":{"line":21,"column":12}},{"generated":{"line":22,"column":16},"source":"tcp.js","original":{"line":21,"column":1}},{"generated":{"line":22,"column":18},"source":"tcp.js","original":{"line":21,"column":18}},{"name":"console","generated":{"line":23,"column":0},"source":"tcp.js","original":{"line":22,"column":2}},{"name":"log","generated":{"line":23,"column":10},"source":"tcp.js","original":{"line":22,"column":10}},{"generated":{"line":23,"column":13},"source":"tcp.js","original":{"line":22,"column":2}},{"generated":{"line":23,"column":14},"source":"tcp.js","original":{"line":22,"column":14}},{"name":"data","generated":{"line":23,"column":31},"source":"tcp.js","original":{"line":22,"column":31}},{"generated":{"line":23,"column":35},"source":"tcp.js","original":{"line":22,"column":2}},{"generated":{"line":25,"column":0},"source":"tcp.js","original":{"line":24,"column":2}},{"name":"string","generated":{"line":25,"column":8},"source":"tcp.js","original":{"line":24,"column":8}},{"name":"data","generated":{"line":25,"column":17},"source":"tcp.js","original":{"line":24,"column":17}},{"name":"toString","generated":{"line":25,"column":22},"source":"tcp.js","original":{"line":24,"column":22}},{"generated":{"line":25,"column":30},"source":"tcp.js","original":{"line":24,"column":17}},{"generated":{"line":25,"column":32},"source":"tcp.js","original":{"line":24,"column":2}},{"generated":{"line":26,"column":0},"source":"tcp.js","original":{"line":25,"column":2}},{"name":"data","generated":{"line":26,"column":7},"source":"tcp.js","original":{"line":25,"column":7}},{"generated":{"line":26,"column":11},"source":"tcp.js","original":{"line":25,"column":2}},{"name":"string","generated":{"line":26,"column":15},"source":"tcp.js","original":{"line":25,"column":15}},{"generated":{"line":26,"column":21},"source":"tcp.js","original":{"line":25,"column":2}},{"generated":{"line":27,"column":0},"source":"tcp.js","original":{"line":26,"column":2}},{"generated":{"line":27,"column":6},"source":"tcp.js","original":{"line":26,"column":6}},{"name":"data","generated":{"line":27,"column":11},"source":"tcp.js","original":{"line":26,"column":11}},{"generated":{"line":27,"column":15},"source":"tcp.js","original":{"line":26,"column":6}},{"name":"endsWith","generated":{"line":27,"column":16},"source":"tcp.js","original":{"line":26,"column":16}},{"generated":{"line":27,"column":24},"source":"tcp.js","original":{"line":26,"column":6}},{"generated":{"line":27,"column":25},"source":"tcp.js","original":{"line":26,"column":25}},{"generated":{"line":27,"column":29},"source":"tcp.js","original":{"line":26,"column":6}},{"generated":{"line":27,"column":30},"source":"tcp.js","original":{"line":26,"column":2}},{"generated":{"line":27,"column":32},"source":"tcp.js","original":{"line":26,"column":32}},{"generated":{"line":28,"column":0},"source":"tcp.js","original":{"line":27,"column":3}},{"name":"emitData","generated":{"line":28,"column":8},"source":"tcp.js","original":{"line":27,"column":8}},{"generated":{"line":28,"column":16},"source":"tcp.js","original":{"line":27,"column":3}},{"generated":{"line":28,"column":17},"source":"tcp.js","original":{"line":27,"column":17}},{"name":"data","generated":{"line":28,"column":22},"source":"tcp.js","original":{"line":27,"column":22}},{"generated":{"line":28,"column":26},"source":"tcp.js","original":{"line":27,"column":3}},{"generated":{"line":29,"column":0},"source":"tcp.js","original":{"line":28,"column":3}},{"name":"data","generated":{"line":29,"column":8},"source":"tcp.js","original":{"line":28,"column":8}},{"generated":{"line":29,"column":12},"source":"tcp.js","original":{"line":28,"column":3}},{"generated":{"line":29,"column":15},"source":"tcp.js","original":{"line":28,"column":15}},{"generated":{"line":29,"column":17},"source":"tcp.js","original":{"line":28,"column":3}},{"generated":{"line":30,"column":0},"source":"tcp.js","original":{"line":29,"column":3}},{"generated":{"line":31,"column":0},"source":"tcp.js","original":{"line":30,"column":2}},{"name":"emitData","generated":{"line":33,"column":0},"source":"tcp.js","original":{"line":32,"column":1}},{"name":"data","generated":{"line":33,"column":10},"source":"tcp.js","original":{"line":32,"column":10}},{"generated":{"line":33,"column":14},"source":"tcp.js","original":{"line":32,"column":1}},{"generated":{"line":33,"column":16},"source":"tcp.js","original":{"line":32,"column":16}},{"generated":{"line":34,"column":0},"source":"tcp.js","original":{"line":33,"column":2}},{"name":"arr","generated":{"line":34,"column":8},"source":"tcp.js","original":{"line":33,"column":8}},{"name":"data","generated":{"line":34,"column":14},"source":"tcp.js","original":{"line":33,"column":14}},{"name":"split","generated":{"line":34,"column":19},"source":"tcp.js","original":{"line":33,"column":19}},{"generated":{"line":34,"column":24},"source":"tcp.js","original":{"line":33,"column":14}},{"generated":{"line":34,"column":25},"source":"tcp.js","original":{"line":33,"column":25}},{"generated":{"line":34,"column":31},"source":"tcp.js","original":{"line":33,"column":14}},{"generated":{"line":34,"column":32},"source":"tcp.js","original":{"line":33,"column":2}},{"generated":{"line":35,"column":0},"source":"tcp.js","original":{"line":34,"column":2}},{"generated":{"line":35,"column":7},"source":"tcp.js","original":{"line":34,"column":7}},{"name":"i","generated":{"line":35,"column":13},"source":"tcp.js","original":{"line":34,"column":13}},{"generated":{"line":35,"column":14},"source":"tcp.js","original":{"line":34,"column":2}},{"name":"arr","generated":{"line":35,"column":18},"source":"tcp.js","original":{"line":34,"column":18}},{"generated":{"line":35,"column":21},"source":"tcp.js","original":{"line":34,"column":2}},{"generated":{"line":35,"column":23},"source":"tcp.js","original":{"line":34,"column":23}},{"generated":{"line":36,"column":0},"source":"tcp.js","original":{"line":35,"column":3}},{"name":"emit","generated":{"line":36,"column":8},"source":"tcp.js","original":{"line":35,"column":8}},{"generated":{"line":36,"column":12},"source":"tcp.js","original":{"line":35,"column":3}},{"generated":{"line":36,"column":13},"source":"tcp.js","original":{"line":35,"column":13}},{"generated":{"line":36,"column":19},"source":"tcp.js","original":{"line":35,"column":3}},{"name":"i","generated":{"line":36,"column":21},"source":"tcp.js","original":{"line":35,"column":21}},{"generated":{"line":36,"column":22},"source":"tcp.js","original":{"line":35,"column":3}},{"generated":{"line":37,"column":0},"source":"tcp.js","original":{"line":36,"column":3}},{"generated":{"line":38,"column":0},"source":"tcp.js","original":{"line":37,"column":2}},{"name":"send","generated":{"line":40,"column":0},"source":"tcp.js","original":{"line":39,"column":1}},{"name":"string","generated":{"line":40,"column":6},"source":"tcp.js","original":{"line":39,"column":6}},{"generated":{"line":40,"column":12},"source":"tcp.js","original":{"line":39,"column":1}},{"generated":{"line":40,"column":14},"source":"tcp.js","original":{"line":39,"column":14}},{"name":"console","generated":{"line":41,"column":0},"source":"tcp.js","original":{"line":40,"column":2}},{"name":"log","generated":{"line":41,"column":10},"source":"tcp.js","original":{"line":40,"column":10}},{"generated":{"line":41,"column":13},"source":"tcp.js","original":{"line":40,"column":2}},{"generated":{"line":41,"column":14},"source":"tcp.js","original":{"line":40,"column":14}},{"name":"string","generated":{"line":41,"column":27},"source":"tcp.js","original":{"line":40,"column":27}},{"generated":{"line":41,"column":33},"source":"tcp.js","original":{"line":40,"column":2}},{"generated":{"line":42,"column":0},"source":"tcp.js","original":{"line":41,"column":2}},{"name":"client","generated":{"line":42,"column":7},"source":"tcp.js","original":{"line":41,"column":7}},{"generated":{"line":42,"column":13},"source":"tcp.js","original":{"line":41,"column":2}},{"name":"write","generated":{"line":42,"column":14},"source":"tcp.js","original":{"line":41,"column":14}},{"generated":{"line":42,"column":19},"source":"tcp.js","original":{"line":41,"column":2}},{"name":"string","generated":{"line":42,"column":20},"source":"tcp.js","original":{"line":41,"column":20}},{"generated":{"line":42,"column":29},"source":"tcp.js","original":{"line":41,"column":29}},{"generated":{"line":42,"column":33},"source":"tcp.js","original":{"line":41,"column":2}},{"generated":{"line":43,"column":0},"source":"tcp.js","original":{"line":42,"column":2}},{"generated":{"line":44,"column":0},"source":"tcp.js","original":{"line":5,"column":41}},{"name":"module","generated":{"line":46,"column":0},"source":"tcp.js","original":{"line":45,"column":0}},{"name":"exports","generated":{"line":46,"column":7},"source":"tcp.js","original":{"line":45,"column":7}},{"generated":{"line":46,"column":14},"source":"tcp.js","original":{"line":45,"column":0}},{"name":"TCPConnection","generated":{"line":46,"column":17},"source":"tcp.js","original":{"line":45,"column":17}},{"generated":{"line":46,"column":30},"source":"tcp.js","original":{"line":45,"column":0}}],"sources":{"tcp.js":"'use strict';\nconst net = require('net');\nconst EventEmitter = require('eventemitter3');\n\nclass TCPConnection extends EventEmitter {\n\tconstructor(address = 'chatmud.com', port = 3000) {\n\t\tconsole.log('Connecting to ' + address + ' on port ' + port);\n\t\tsuper();\n\t\tthis.address = address;\n\t\tthis.port = port;\n\t\tthis.client = new net.Socket();\n\t\tthis.connection = this.client.connect(this.port, this.address, () => this.setupEvents());\n\t\tthis.data = null;\n\t}\n\n\tsetupEvents() {\n\t\tconsole.log('Setting up tcp events');\n\t\tthis.client.on('data', data => this.handleData(data));\n\t}\n\n\thandleData(data) {\n\t\tconsole.log('TCP stream: ' + data);\n\n\t\tconst string = data.toString();\n\t\tthis.data += string;\n\t\tif (this.data.endsWith('\\n')) {\n\t\t\tthis.emitData(this.data);\n\t\t\tthis.data = '';\n\t\t}\n\t}\n\n\temitData(data) {\n\t\tconst arr = data.split('\\r\\n');\n\t\tfor (const i of arr) {\n\t\t\tthis.emit('data', i);\n\t\t}\n\t}\n\n\tsend(string) {\n\t\tconsole.log('Sending ' + string);\n\t\tthis.client.write(string + '\\n');\n\t}\n}\n\nmodule.exports = TCPConnection;\n"},"lineCount":null}},"hash":"23b0d65744726778f6d3a6aedb8aaef8","cacheData":{"env":{}}}